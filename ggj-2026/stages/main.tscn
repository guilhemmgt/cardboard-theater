[gd_scene format=3 uid="uid://ckspp2o3odaam"]

[ext_resource type="Script" path="res://stages/audio_players.gd" id="1_7iyax"]
[ext_resource type="PackedScene" uid="uid://db6l51gxty1ec" path="res://entities/theater/theater.tscn" id="1_72s8x"]
[ext_resource type="AnimationLibrary" uid="uid://ddal5gnqwjbdb" path="res://animations/scene_library.tres" id="1_cu7i0"]
[ext_resource type="Script" uid="uid://diiwyqemjac5n" path="res://utilities/mover.gd" id="2_5sjox"]
[ext_resource type="AudioStream" uid="uid://cb1ckd7b3kmcu" path="res://sounds/music/ggj2026.mp3" id="2_43f5m"]
[ext_resource type="Script" uid="uid://bukq7d3xlecfq" path="res://utilities/orchestrator/orchestrator.gd" id="4_0oqm6"]
[ext_resource type="Script" uid="uid://b0g4fonj8fno0" path="res://utilities/orchestrator/txt_to_anim.gd" id="4_fejr8"]
[ext_resource type="Script" uid="uid://cldyre5xcua07" path="res://entities/actors/actor_manager.gd" id="7_85ei1"]
[ext_resource type="PackedScene" uid="uid://o82m05ah8w86" path="res://entities/scenes/menu.tscn" id="7_byaf2"]
[ext_resource type="Script" uid="uid://burtkkchfm8es" path="res://entities/actors/actor.gd" id="8_lnxn1"]
[ext_resource type="PackedScene" uid="uid://bn21pj7fdgghm" path="res://carton/3Dcardboards/dragon/dragon.tscn" id="9_06h8b"]
[ext_resource type="PackedScene" uid="uid://dq8y837y8ll4b" path="res://entities/incidents/intrusion/intrusion_incident.tscn" id="10_lnxn1"]
[ext_resource type="PackedScene" uid="uid://c432atnphqs7w" path="res://carton/3Dcardboards/cow/cow.tscn" id="11_06h8b"]

[sub_resource type="Animation" id="Animation_sl14i"]
length = 0.001
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("ActorManager/Actor1:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0),
"transitions": PackedFloat32Array(1),
"update": 0,
"values": [Vector3(0, 0, 0)]
}

[sub_resource type="Animation" id="Animation_jgeue"]
resource_name = "idle"
loop_mode = 2
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath("ActorManager/Actor1:rotation")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 0.96666664),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Vector3(0, 0, 0), Vector3(0, 0, -0.10471976)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_cu7i0"]
_data = {
&"RESET": SubResource("Animation_sl14i"),
&"idle": SubResource("Animation_jgeue")
}

[node name="Main" type="Node3D" unique_id=62694581]

[node name="Orchestrator" type="Node" parent="." unique_id=2052362070 node_paths=PackedStringArray("incidents_manager", "actor_manager")]
script = ExtResource("4_0oqm6")
incidents_manager = NodePath("../IncidentsManager")
actor_manager = NodePath("../ActorManager")

[node name="Mover" type="Node" parent="." unique_id=891845626 node_paths=PackedStringArray("theater")]
script = ExtResource("2_5sjox")
theater = NodePath("../Theater")

[node name="GenerateurAction" type="Node" parent="." unique_id=359567483 node_paths=PackedStringArray("animation_player")]
script = ExtResource("4_fejr8")
timeline_file = "res://test copy.json"
animation_player = NodePath("../Act1")

[node name="AudioPlayers" type="Node" parent="." unique_id=1975551628]
script = ExtResource("1_7iyax")

[node name="MusicPlayer" type="AudioStreamPlayer" parent="AudioPlayers" unique_id=1033084366]
stream = ExtResource("2_43f5m")
volume_db = -5.538
autoplay = true

[node name="SfxPlayer" type="AudioStreamPlayer" parent="AudioPlayers" unique_id=461661915]
max_polyphony = 20

[node name="Theater" parent="." unique_id=814067477 instance=ExtResource("1_72s8x")]
debug_curtains = true

[node name="ScenesParent" type="Node3D" parent="." unique_id=1917959928]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0.124498844)

[node name="Menu" parent="ScenesParent" unique_id=360770404 instance=ExtResource("7_byaf2")]

[node name="Camera3D" type="Camera3D" parent="." unique_id=1756881860]
transform = Transform3D(-0.9999881, -0.0009955054, 0.0047797984, -0.0006319588, 0.9971481, 0.07546666, -0.004841294, 0.07546273, -0.99713683, 0.009541333, 2.5335333, -1.9963292)
current = true

[node name="ActorManager" type="Node3D" parent="." unique_id=731266771]
transform = Transform3D(1.3, 0, 0, 0, 2, 0, 0, 0, 2, -0.7928251, 1.3890936, 2)
script = ExtResource("7_85ei1")

[node name="Actor1" type="Node3D" parent="ActorManager" unique_id=1254341454]
script = ExtResource("8_lnxn1")

[node name="AnimationPlayer" type="AnimationPlayer" parent="ActorManager/Actor1" unique_id=1553675298]
root_node = NodePath("../../..")
libraries/ = SubResource("AnimationLibrary_cu7i0")

[node name="DragonMesh" parent="ActorManager/Actor1" unique_id=521331207 instance=ExtResource("9_06h8b")]
transform = Transform3D(2.5389833, 0.55370784, 0, -0.407898, 1.4561816, 0, 0, 0, 1.4999998, 0, 0, 0)

[node name="IncidentsManager" type="Node3D" parent="." unique_id=611625093]

[node name="CowIncident" parent="IncidentsManager" unique_id=1502549711 instance=ExtResource("10_lnxn1")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -5.566022, 1.509382, 2.2435179)
control_min_delay = 2.0
control_max_delay = 3.0

[node name="Cow" parent="IncidentsManager/CowIncident" unique_id=1879863676 instance=ExtResource("11_06h8b")]

[node name="Act1" type="AnimationPlayer" parent="." unique_id=786224321]
libraries/ = ExtResource("1_cu7i0")
autoplay = &"scene0"

[editable path="IncidentsManager/CowIncident"]
